---
title: "快速排序"
date: 2021-06-18T10:33:06+08:00
draft: true
---

## 数据结构与算法(Swift):快速排序

快速排序(quicksort)无疑是最流行的排序算法，因为在多数情况下，快速排序最快，所需时间是O(N*logN)。（仅针对内部或者内存排序，在磁盘文件中对数据排序，其他算法肯能更快。）快速排序由查尔斯·安东尼·理查德·霍尔(Charles Antony Richard Hoare)于1962年发现。

注：C.A.R. Hoare，英国计算机科学家，图灵奖得主，也是null的创造者--他称之为价值数十亿的错误。

要理解快速排序，应该熟悉上一节讲述的分区算法。快速排序把一个数组分成两个子数组，然后递归地调用自己，快速排序每一个子数组。不过，这个基本的方案还有一些细节需要我们处理。这涉及到选择基准值以及各种小分区的排序。我们先看核心的算法，稍后再看这些改进。

### 快速排序算法

基本的递归快速排序相当简单，例如：

如你所见，分成三个基本步骤：

1. 数组或子数组分期，分成左右两组，左侧是较小的键，右侧是较大键。
2. 调用自身来给左侧组排序。
3. 调用自身被右侧组排序。

分区之后，左侧子数组的元素都比右侧的元素小。如果继续给左侧子数组和右侧子数组分别排序，整个数组就排好序了。那莪如何给这些子数组排序呢？递归地调用自身。

`recQuickSort()`的参数决定了所要排序的数组（或子数组）的左右边界。该方法首先检查这个数组是否只有一个元素。如果是，按照定义，这个数组已经排好顺序，立刻返回。这是此处递归的基准。

如果该数组由两个或多个元素，算法调用`partitionIt()`方法给数组分区。该方法返回分区的索引：右侧子数组的左侧元素。分区索引标明了子数组之间的分界线。

数组分区后，`recQuickSort()`调用自己，一次用于数组的左侧部分，索引从`left`到`partition-1`，一次用于数组的右侧部分，从`partition+1`到`right`。注意，在两次递归调用中，都没有包括`partition`索引的数据元素。为什么呢？这个元素不需要排序吗？原因取决于如何选择基准值。

### 选择基准值